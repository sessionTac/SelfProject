<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.springboot.osbulkparts.dao.basedata.MSupplierInfoDao">
  <resultMap id="BaseResultMap" type="cn.springboot.osbulkparts.entity.MSupplierInfoEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 05 21:52:29 CST 2019.
    -->
    <id column="supplier_id" jdbcType="VARCHAR" property="supplierId" />
    <result column="supplier_code" jdbcType="VARCHAR" property="supplierCode" />
    <result column="supplier_name_cn" jdbcType="VARCHAR" property="supplierNameCn" />
    <result column="supplier_name_en" jdbcType="VARCHAR" property="supplierNameEn" />
    <result column="supplier_desc_cn" jdbcType="VARCHAR" property="supplierDescCn" />
    <result column="supplier_desc_en" jdbcType="VARCHAR" property="supplierDescEn" />
    <result column="address" jdbcType="VARCHAR" property="address" />
    <result column="contact" jdbcType="VARCHAR" property="contact" />
    <result column="account_bank" jdbcType="VARCHAR" property="accountBank" />
    <result column="bank_address" jdbcType="VARCHAR" property="bankAddress" />
    <result column="account_no" jdbcType="VARCHAR" property="accountNo" />
    <result column="accountant" jdbcType="VARCHAR" property="accountant" />
    <result column="contact_ways" jdbcType="VARCHAR" property="contactWays" />
    <result column="supplier_cata" jdbcType="VARCHAR" property="supplierCata" />
    <result column="supplier_level" jdbcType="VARCHAR" property="supplierLevel" />
    <result column="supplier_at" jdbcType="VARCHAR" property="supplierAt" />
    <result column="supplier_quo" jdbcType="DECIMAL" property="supplierQuo" />
    <result column="create_user" jdbcType="VARCHAR" property="createUser" />
    <result column="create_time" jdbcType="VARCHAR" property="createTime" />
    <result column="update_user" jdbcType="VARCHAR" property="updateUser" />
    <result column="update_time" jdbcType="VARCHAR" property="updateTime" />
    <result column="is_delete" jdbcType="INTEGER" property="isDelete" />
    <result column="version" jdbcType="INTEGER" property="version" />
    <association property="dictSupplierCata"
                 javaType="cn.springboot.osbulkparts.entity.TDictDataEntity">
        <result property="value" column="supplier_cata"/>
        <result property="name" column="dictSupplierCata"/>
    </association>
    <association property="dictSupplierLevel"
                 javaType="cn.springboot.osbulkparts.entity.TDictDataEntity">
        <result property="value" column="supplier_level"/>
        <result property="name" column="dictSupplierLevel"/>
    </association>
    <association property="dictSupplierAt"
                 javaType="cn.springboot.osbulkparts.entity.TDictDataEntity">
        <result property="value" column="supplier_at"/>
        <result property="name" column="dictSupplierAt"/>
    </association>
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 05 21:52:29 CST 2019.
    -->
    supplier_id, supplier_code, supplier_name_cn, supplier_name_en, supplier_desc_cn, 
    supplier_desc_en, address, contact, account_bank, bank_address, account_no, accountant, 
    contact_ways, supplier_cata, supplier_level, supplier_at, supplier_quo, create_user, create_time, 
    update_user, update_time, is_delete, version
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 05 21:52:29 CST 2019.
    -->
    select 
    <include refid="Base_Column_List" />
    from m_supplier_info
    where supplier_id = #{supplierId,jdbcType=VARCHAR}
  </select>
  <select id="selectByCode" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 05 21:52:29 CST 2019.
    -->
    select 
    <include refid="Base_Column_List" />
    from m_supplier_info
    where supplier_code = #{supplierCode,jdbcType=VARCHAR}
    and is_delete = 0
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 05 21:52:29 CST 2019.
    -->
    delete from m_supplier_info
    where supplier_id = #{supplierId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="cn.springboot.osbulkparts.entity.MSupplierInfoEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 05 21:52:29 CST 2019.
    -->
    insert into m_supplier_info (supplier_id, supplier_code, supplier_name_cn, 
      supplier_name_en, supplier_desc_cn, supplier_desc_en, 
      address, contact, account_bank, 
      bank_address, account_no, accountant, 
      contact_ways, supplier_cata, supplier_level, 
      supplier_at, supplier_quo, create_user, create_time, 
      update_user, update_time, is_delete, 
      version)
    values (#{supplierId,jdbcType=VARCHAR}, #{supplierCode,jdbcType=VARCHAR}, #{supplierNameCn,jdbcType=VARCHAR}, 
      #{supplierNameEn,jdbcType=VARCHAR}, #{supplierDescCn,jdbcType=VARCHAR}, #{supplierDescEn,jdbcType=VARCHAR}, 
      #{address,jdbcType=VARCHAR}, #{contact,jdbcType=VARCHAR}, #{accountBank,jdbcType=VARCHAR}, 
      #{bankAddress,jdbcType=VARCHAR}, #{accountNo,jdbcType=VARCHAR}, #{accountant,jdbcType=VARCHAR}, 
      #{contactWays,jdbcType=VARCHAR}, #{supplierCata,jdbcType=VARCHAR}, #{supplierLevel,jdbcType=VARCHAR}, 
      #{supplierAt,jdbcType=VARCHAR}, #{supplierQuo,jdbcType=DECIMAL}, #{createUser,jdbcType=VARCHAR}, #{createTime,jdbcType=VARCHAR}, 
      #{updateUser,jdbcType=VARCHAR}, #{updateTime,jdbcType=VARCHAR}, #{isDelete,jdbcType=INTEGER}, 
      #{version,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="cn.springboot.osbulkparts.entity.MSupplierInfoEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 05 21:52:29 CST 2019.
    -->
    insert into m_supplier_info
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="supplierId != null">
        supplier_id,
      </if>
      <if test="supplierCode != null">
        supplier_code,
      </if>
      <if test="supplierNameCn != null">
        supplier_name_cn,
      </if>
      <if test="supplierNameEn != null">
        supplier_name_en,
      </if>
      <if test="supplierDescCn != null">
        supplier_desc_cn,
      </if>
      <if test="supplierDescEn != null">
        supplier_desc_en,
      </if>
      <if test="address != null">
        address,
      </if>
      <if test="contact != null">
        contact,
      </if>
      <if test="accountBank != null">
        account_bank,
      </if>
      <if test="bankAddress != null">
        bank_address,
      </if>
      <if test="accountNo != null">
        account_no,
      </if>
      <if test="accountant != null">
        accountant,
      </if>
      <if test="contactWays != null">
        contact_ways,
      </if>
      <if test="supplierCata != null">
        supplier_cata,
      </if>
      <if test="supplierLevel != null">
        supplier_level,
      </if>
      <if test="supplierAt != null">
        supplier_at,
      </if>
      <if test="supplierQuo != null">
        supplier_quo,
      </if>
      <if test="createUser != null">
        create_user,
      </if>

      create_time,

      <if test="updateUser != null">
        update_user,
      </if>
      <if test="updateTime != null">
        update_time,
      </if>
      <if test="isDelete != null">
        is_delete,
      </if>
      <if test="version != null">
        version,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="supplierId != null">
        #{supplierId,jdbcType=VARCHAR},
      </if>
      <if test="supplierCode != null">
        #{supplierCode,jdbcType=VARCHAR},
      </if>
      <if test="supplierNameCn != null">
        #{supplierNameCn,jdbcType=VARCHAR},
      </if>
      <if test="supplierNameEn != null">
        #{supplierNameEn,jdbcType=VARCHAR},
      </if>
      <if test="supplierDescCn != null">
        #{supplierDescCn,jdbcType=VARCHAR},
      </if>
      <if test="supplierDescEn != null">
        #{supplierDescEn,jdbcType=VARCHAR},
      </if>
      <if test="address != null">
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="contact != null">
        #{contact,jdbcType=VARCHAR},
      </if>
      <if test="accountBank != null">
        #{accountBank,jdbcType=VARCHAR},
      </if>
      <if test="bankAddress != null">
        #{bankAddress,jdbcType=VARCHAR},
      </if>
      <if test="accountNo != null">
        #{accountNo,jdbcType=VARCHAR},
      </if>
      <if test="accountant != null">
        #{accountant,jdbcType=VARCHAR},
      </if>
      <if test="contactWays != null">
        #{contactWays,jdbcType=VARCHAR},
      </if>
      <if test="supplierCata != null">
        #{supplierCata,jdbcType=VARCHAR},
      </if>
      <if test="supplierLevel != null">
        #{supplierLevel,jdbcType=VARCHAR},
      </if>
      <if test="supplierAt != null">
        #{supplierAt,jdbcType=VARCHAR},
      </if>
      <if test="supplierQuo != null">
        #{supplierQuo,jdbcType=DECIMAL},
      </if>
      <if test="createUser != null">
        #{createUser,jdbcType=VARCHAR},
      </if>
      DATE_FORMAT(NOW(),'%Y%m%d%H%i%s'),
      <if test="updateUser != null">
        #{updateUser,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null">
        #{updateTime,jdbcType=VARCHAR},
      </if>
      <if test="isDelete != null">
        #{isDelete,jdbcType=INTEGER},
      </if>
      <if test="version != null">
        #{version,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="cn.springboot.osbulkparts.entity.MSupplierInfoEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 05 21:52:29 CST 2019.
    -->
    update m_supplier_info
    <set>
      <if test="supplierCode != null">
        supplier_code = #{supplierCode,jdbcType=VARCHAR},
      </if>
      <if test="supplierNameCn != null">
        supplier_name_cn = #{supplierNameCn,jdbcType=VARCHAR},
      </if>
      <if test="supplierNameEn != null">
        supplier_name_en = #{supplierNameEn,jdbcType=VARCHAR},
      </if>
      <if test="supplierDescCn != null">
        supplier_desc_cn = #{supplierDescCn,jdbcType=VARCHAR},
      </if>
      <if test="supplierDescEn != null">
        supplier_desc_en = #{supplierDescEn,jdbcType=VARCHAR},
      </if>
      <if test="address != null">
        address = #{address,jdbcType=VARCHAR},
      </if>
      <if test="contact != null">
        contact = #{contact,jdbcType=VARCHAR},
      </if>
      <if test="accountBank != null">
        account_bank = #{accountBank,jdbcType=VARCHAR},
      </if>
      <if test="bankAddress != null">
        bank_address = #{bankAddress,jdbcType=VARCHAR},
      </if>
      <if test="accountNo != null">
        account_no = #{accountNo,jdbcType=VARCHAR},
      </if>
      <if test="accountant != null">
        accountant = #{accountant,jdbcType=VARCHAR},
      </if>
      <if test="contactWays != null">
        contact_ways = #{contactWays,jdbcType=VARCHAR},
      </if>
      <if test="supplierCata != null">
        supplier_cata = #{supplierCata,jdbcType=VARCHAR},
      </if>
      <if test="supplierLevel != null">
        supplier_level = #{supplierLevel,jdbcType=VARCHAR},
      </if>
      <if test="supplierAt != null">
        supplier_at = #{supplierAt,jdbcType=VARCHAR},
      </if>
      <if test="supplierQuo != null">
        supplier_quo = #{supplierQuo,jdbcType=DECIMAL},
      </if>
      <if test="createUser != null">
        create_user = #{createUser,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null">
        create_time = #{createTime,jdbcType=VARCHAR},
      </if>
      <if test="updateUser != null">
        update_user = #{updateUser,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null">
        update_time = #{updateTime,jdbcType=VARCHAR},
      </if>
      <if test="isDelete != null">
        is_delete = #{isDelete,jdbcType=INTEGER},
      </if>
      <if test="version != null">
        version = #{version,jdbcType=INTEGER},
      </if>
    </set>
    where supplier_id = #{supplierId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="cn.springboot.osbulkparts.entity.MSupplierInfoEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jun 05 21:52:29 CST 2019.
    -->
    update m_supplier_info
    set supplier_code = #{supplierCode,jdbcType=VARCHAR},
      supplier_name_cn = #{supplierNameCn,jdbcType=VARCHAR},
      supplier_name_en = #{supplierNameEn,jdbcType=VARCHAR},
      supplier_desc_cn = #{supplierDescCn,jdbcType=VARCHAR},
      supplier_desc_en = #{supplierDescEn,jdbcType=VARCHAR},
      address = #{address,jdbcType=VARCHAR},
      contact = #{contact,jdbcType=VARCHAR},
      account_bank = #{accountBank,jdbcType=VARCHAR},
      bank_address = #{bankAddress,jdbcType=VARCHAR},
      account_no = #{accountNo,jdbcType=VARCHAR},
      accountant = #{accountant,jdbcType=VARCHAR},
      contact_ways = #{contactWays,jdbcType=VARCHAR},
      supplier_cata = #{supplierCata,jdbcType=VARCHAR},
      supplier_level = #{supplierLevel,jdbcType=VARCHAR},
      supplier_at = #{supplierAt,jdbcType=VARCHAR},
      supplier_quo = #{supplierQuo,jdbcType=DECIMAL},
<!--       create_user = #{createUser,jdbcType=VARCHAR},
      create_time = #{createTime,jdbcType=VARCHAR}, -->
      update_user = #{updateUser,jdbcType=VARCHAR},
      update_time = #{updateTime,jdbcType=VARCHAR},
      is_delete = #{isDelete,jdbcType=INTEGER},
      version = #{version,jdbcType=INTEGER}
    where supplier_id = #{supplierId,jdbcType=VARCHAR}
  </update>
  <!-- 根据页面上输入的内容查询供应商信息列表 -->
  <select id="selectSupplierInfoList" parameterType="cn.springboot.osbulkparts.entity.MSupplierInfoEntity" resultMap="BaseResultMap">
	SELECT
		msupplier.supplier_id,
		msupplier.supplier_code,
		msupplier.supplier_name_cn,
		msupplier.supplier_name_en,
		msupplier.supplier_desc_cn,
		msupplier.supplier_desc_en,
		msupplier.address,
		msupplier.contact,
		msupplier.account_bank,
		msupplier.bank_address,
		msupplier.account_no,
		msupplier.accountant,
		msupplier.contact_ways,
		msupplier.supplier_cata,
		msupplier.supplier_level,
		msupplier.supplier_at,
		msupplier.supplier_quo,
		msupplier.create_user,
		msupplier.create_time,
		msupplier.update_user,
		msupplier.update_time,
		msupplier.is_delete,
		msupplier.version,
		ddcata.`name` AS dictSupplierCata,
		ddlevel.`name` AS dictSupplierLevel,
		ddat.`name` AS dictSupplierAt
	FROM
		m_supplier_info msupplier
	LEFT JOIN t_dict_data_${languageFlag} ddcata ON ddcata.`value` = msupplier.supplier_cata
	AND ddcata.dict_type_code = 'supplierCata'
	AND ddcata.is_enable = 1
	AND ddcata.delete_flg = 0
	LEFT JOIN t_dict_data_${languageFlag} ddlevel ON ddlevel.`value` = msupplier.supplier_level
	AND ddlevel.dict_type_code = 'supplierLevel'
	AND ddlevel.is_enable = 1
	AND ddlevel.delete_flg = 0
	LEFT JOIN t_dict_data_${languageFlag} ddat ON ddat.`value` = msupplier.supplier_at
	AND ddat.dict_type_code = 'roleAt'
	AND ddat.is_enable = 1
	AND ddat.delete_flg = 0
	WHERE
		msupplier.is_delete = 0
	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(supplierId)">
	      AND msupplier.supplier_id = #{supplierId,jdbcType=VARCHAR}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(supplierCode)">
	      <bind name="supplierCode_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(supplierCode)"/>
	      AND msupplier.supplier_code LIKE #{supplierCode_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(supplierNameCn)">
	      <bind name="supplierNameCn_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(supplierNameCn)"/>
	      AND msupplier.supplier_name_cn LIKE #{supplierNameCn_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(supplierNameEn)">
	      <bind name="supplierNameEn_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(supplierNameEn)"/>
	      AND msupplier.supplier_name_en LIKE #{supplierNameEn_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(supplierDescCn)">
	      <bind name="supplierDescCn_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(supplierDescCn)"/>
	      AND msupplier.supplier_desc_cn LIKE #{supplierDescCn_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(supplierDescEn)">
	      <bind name="supplierDescEn_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(supplierDescEn)"/>
	      AND msupplier.supplier_desc_en LIKE #{supplierDescEn_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(address)">
	      <bind name="address_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(address)"/>
	      AND msupplier.address LIKE #{address_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(contact)">
	      <bind name="contact_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(contact)"/>
	      AND msupplier.contact LIKE #{contact_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(accountBank)">
	      <bind name="accountBank_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(accountBank)"/>
	      AND msupplier.account_bank LIKE #{accountBank_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(bankAddress)">
	      <bind name="bankAddress_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(bankAddress)"/>
	      AND msupplier.bank_address LIKE #{bankAddress_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(accountNo)">
	      <bind name="accountNo_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(accountNo)"/>
	      AND msupplier.account_no LIKE #{accountNo_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(accountant)">
	      <bind name="accountant_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(accountant)"/>
	      AND msupplier.accountant LIKE #{accountant_like}
	  </if>
	  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(contactWays)">
	      <bind name="contactWays_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(contactWays)"/>
	      AND msupplier.contact_ways LIKE #{contactWays_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(supplierCata)">
	      <bind name="supplierCata_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(supplierCata)"/>
	      AND msupplier.supplier_cata = #{supplierCata}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(supplierLevel)">
	      AND msupplier.supplier_level = #{supplierLevel}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(supplierAt)">
	      AND msupplier.supplier_at = #{supplierAt}
	  </if>
      <if test="supplierQuo != null">
        AND msupplier.supplier_quo = #{supplierQuo},
      </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(createUser)">
	      <bind name="createUser_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(createUser)"/>
	      AND msupplier.create_user LIKE #{createUser_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(createTime)">
	      AND msupplier.create_time = #{createTime}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(updateUser)">
	      <bind name="updateUser_like" value="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@toLike(updateUser)"/>
	      AND msupplier.update_user LIKE #{updateUser_like}
	  </if>
  	  <if test="@cn.springboot.osbulkparts.common.utils.CommonSqlUtils@isNotBlank(updateTime)">
	      AND msupplier.update_time = #{updateTime}
	  </if>
  </select>
    <update id="deleteBatchData">
        update m_supplier_info
        set update_user = #{updateUser,jdbcType=VARCHAR},update_time = DATE_FORMAT(now(),'%Y%m%d%H%m%S'),is_delete = #{isDelete,jdbcType=INTEGER}
        where supplier_id IN
        <foreach item="item" index="index" collection="ids" open="(" separator="," close=")">
            #{item}
        </foreach>
    </update>
</mapper>